<!-- src/pages/enrollments/enrollment-index.component.html -->

<div class="pageContainer">
  <div class="leftPanel">
    <h2 class="title">Buscar Matrículas</h2>

    <form class="searchForm" (ngSubmit)="$event.preventDefault()">
      <input type="text" [(ngModel)]="searchString" name="searchString" placeholder="Buscar Matrícula ou Status..." />
      <button type="submit" class="btn btnPrimary">Buscar</button>
    </form>

    <a [routerLink]="['/enrollments/create']" class="btn btnSuccess">Cadastrar Nova Matrícula</a>
  </div>

  <div class="rightPanel">
    <h2 class="title">Lista de Matrículas</h2>

    <table class="table">
      <thead>
        <tr>
          <th>Aluno</th>
          <th>Turma</th>
          <th>Status</th>
          <th>Data da Matrícula</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="filteredEnrollments.length === 0">
          <td colspan="5" style="text-align:center; padding:20px;">Nenhuma matrícula encontrada.</td>
        </tr>
        <tr *ngFor="let enrollment of filteredEnrollments">
          <td>{{ getStudentName(enrollment.studentId) }}</td>
          <td>{{ getClassRoomName(enrollment.classRoomId) }}</td>
          <td>{{ enrollment.status }}</td>
          <td>{{ enrollment.enrollmentDate | date:'shortDate' }}</td>
          <td>
            <a [routerLink]="['/enrollments/details', enrollment.id]" class="btn btnInfo">Detalhes</a>
            <a [routerLink]="['/enrollments/edit', enrollment.id]" class="btn btnWarning">Editar</a>
            <a [routerLink]="['/enrollments/delete', enrollment.id]" class="btn btnDanger">Excluir</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
